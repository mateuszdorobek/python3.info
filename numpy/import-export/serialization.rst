Array Serialize
===============


Rationale
---------


SetUp
-----
>>> import numpy as np


To List
-------
>>> a = np.array([1, 2, 3])
>>>
>>> a.tolist()
[1, 2, 3]

>>> a = np.array([[1, 2, 3],
...               [4, 5, 6],
...               [7, 8, 9]])
>>>
>>> a.tolist()
[[1, 2, 3], [4, 5, 6], [7, 8, 9]]


To String
---------
Integers:

>>> a = np.array([1, 2, 3])

>>> a.tostring()
b'\x01\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00'

DeprecationWarning: The binary mode of fromstring is deprecated, as it behaves surprisingly on unicode inputs. Use frombuffer instead

>>> np.fromstring(b'\x01\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00')
array([4.9e-324, 9.9e-324, 1.5e-323])
>>>
>>> np.frombuffer(b'\x01\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00')
array([4.9e-324, 9.9e-324, 1.5e-323])

Floats:

>>> a = np.array([1., 2., 3.], float)

>>> a.tostring()
b'\x00\x00\x00\x00\x00\x00\xf0?\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x08@'

>>> np.fromstring(b'\x00\x00\x00\x00\x00\x00\xf0?\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x08@')
array([1., 2., 3.])

>>> a = np.array([[1., 2., 3.],
...               [4., 5., 6.]])

>>> a.tostring()
b'\x00\x00\x00\x00\x00\x00\xf0?\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x08@\x00\x00\x00\x00\x00\x00\x10@\x00\x00\x00\x00\x00\x00\x14@\x00\x00\x00\x00\x00\x00\x18@'

>>> np.fromstring(b'\x00\x00\x00\x00\x00\x00\xf0?\x00\x00\x00\x00\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x08@\x00\x00\x00\x00\x00\x00\x10@\x00\x00\x00\x00\x00\x00\x14@\x00\x00\x00\x00\x00\x00\x18@')
array([1., 2., 3., 4., 5., 6.])


.. todo:: Assignments
